<h1 class="page-header">Listing products</h1>
<%= render 'search' %>
  <div class="table-responsive">
    <table class="table table-hover">
      <thead>
        <tr class="info">
          <th>Product ID</th>
          <th>Name</th>
          <th>Desc</th>
          <th>Price</th>
          <th>Category</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @products.each do |product| %>
          <%= content_tag_for :tr, product do %> <!-- product.id動態改變,適用于javascript -->
            <td><%= product.id %></td>
            <td><%= product.name %></td>
            <td><%= product.desc %></td>
            <td><%= product.price %></td>
            <td><%= link_to product.category.try(:name), product.category %></td>
            <td><%= link_to 'Show', product_path(product) %></td>
            <td><%= link_to 'Edit', [:edit, product] %></td>
            <td><%= link_to 'Destroy', product, data: { method: :delete, confirm: 'Are you sure?' } %></td>
          <% end %>
        <% end %>
      </tbody>
    </table>
  </div>
<br>
<ul class="pagination">
  <li><a href="#">&laquo;</a></li>
  <% @max_page.times do |page| %>
    <%= page_li page + 1 %>
  <% end %>
  <li><a href="#">&raquo;</a></li>
</ul>
<br>
<%= link_to 'New Product', new_product_path %>
